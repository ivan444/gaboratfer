\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[croatian]{babel}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{longtable}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{hyperref}
% Da bi se promjenio stil citiranja umjesto:
% [authoryear, round]
% staviti:
% [numbers, square]
\usepackage[authoryear, round]{natbib}
\usepackage{amsmath}
\usepackage{subfig}
\usepackage{fixltx2e}
\usepackage{todo}
\usepackage{url}

\newcommand{\engl}[1]{(engl.~\emph{#1})}

\begin{document}
\title{Izlučivanje značajki lica Gaborovim filterom}
\author{Tomislav Reicher \and Krešimir Antolić \and Igor Belša \and Marko Ivanković \and Ivan Krišto \and Maja Legac \and Tomislav Novak}

\maketitle

\tableofcontents

\section*{Za raspraviti}
\begin{itemize}
  \item Je li naslov ok? Je li ok spomenuti ``raspoznavanje lica'' ili ``lice''
  u samom naslovu?
\end{itemize}

\section{Uvod}
Sustav za raspoznavanje uzoraka se može opisati dijagramom
\ref{fig:ru-sustav-dijagram}.

\begin{figure}[htb]
\begin{center}
\begin{picture}(270,130)
\put(20,110){\makebox(40,15){\texttt{Uzorak}}}
\put(58,117){\vector(1,0){15}}
\put(75,110){\framebox(90,15){\textit{Preprocesiranje}}}
\put(120,110){\vector(0,-1){15}}
\put(75,80){\framebox(90,15){\textit{Izvlačenje značajki}}}
\put(120,80){\vector(0,-1){15}}
\put(75,50){\framebox(90,15){\textit{Redukcija dimenzije}}}
\put(120,50){\vector(0,-1){15}}
\put(75,20){\framebox(90,15){\textit{Klasifikacija}}}
\put(167,27){\vector(1,0){15}}
\put(180,20){\makebox(40,15){\texttt{Razred}}}
\end{picture}
\caption{Dijagram sustava za raspoznavanje uzoraka}
\label{fig:ru-sustav-dijagram}
\end{center}
\end{figure}

Osnovna motivacija za korištenje Gaborovog filtera za izvlačenje značajki je veza
sa biološkim osobinama vida kod sisavaca čiji su receptori osjetljivi na
orijentaciju te imaju karakteristične prostorne frekvencije. Gaborov filter može
iskoristit vizualne osobine kao što su lokalizacija prostora, selekcija
orijentacije i karakteristike prostorne frekvencije
\citep{bhuiyan2007onfacerecognition}\nocite{daugman1985uncertainty}.

% Ovo je opis o čemu koji odjeljak govori. Ovo se MORA nalaziti na kraju uvoda. 
U 2.~odjeljku prikazan je matematički model dvodimenzionalnog gaborovog filtera,
u 3.~odjeljku objašnjen je način izvlačenja značajki, 4.~odjeljak prikazuje
rezultate primjene gaborovog filtera na neke od uzoraka, a 5.~navodi objašnjenja
pojedinih parametara i njihov utjecaj na krajnji rezultat. U 6.~odjeljku je
objašnjena interpretacija značajki te način korištenja dobivenih značajki u
sustavima za raspoznavanje uzoraka, odnosno klasifikacija pomoću izlučenih
značajki. Zaključak je dan u 7.~odjeljku.\TODO{Prešturo\ldots Doraditi nakon što
budemo znali što ćemo uopće pisati\ldots}

\section{Dizajn gaborovog filtera}\TODO{Provjeriti je li sve ok (formule)}
Osnovna funkcijska forma 2D Gaborovog filtera definirana u prostornoj i
prostorno--ferkvencijskoj domeni određena je sa \citep{huang2005robust}:
\begin{equation}
g(x,y)=\frac{1}{2\pi \sigma^2_{xy}}e^{-\left ( \frac{x'^2 +
y'^2}{2\sigma^2_{x,y}} \right)} \times \left ( e^{2\pi i r_0 x'} -
e^{-\frac{r_0^2}{2\sigma^2_{uv}}}\right),
\label{2d-gabor}
\end{equation}
pri čemu su
\begin{eqnarray*}
x' = x \cos \theta + y \sin \theta, \\
y' = -x \sin \theta + y \cos \theta,
\end{eqnarray*}
gdje je $\sigma_{xy}$ standardna devijacija Gaussove omotnice\TODO{\emph{Gaussian
envelope}?}koja karakterizira prostorni obujam i širinu filtera. Parametri
($u_0$, $v_0$) definiraju prostornu frekvenciju sinusoidalnog vala u ravnini koji
također može biti izražen polarnim koordinatama kao radialna frekvencija $r_0$ i
orijentacija $\theta$:
\begin{eqnarray}
r_0^2 = u_0^2 + v_0^2, \\
\tan \theta = \frac{v_0}{u_0}.
\end{eqnarray}
Frekvencija i odabir orijentacije Gaborovog filtera su izražajnije u domeni
frekvencijskog prikaza predstavljenog jednadžbom (\ref{gabor-frek}) koja
određuje koliko filter utječe na svaku frekvencijsku komponentu ulazne slike.
\begin{equation}
G(u,v) = \exp \left ( - \frac{(u-u_0)^2 + (v-v_0)^2}{2\sigma^2_{uv}}\right ) -
\exp \left ( - \frac{r_0^2}{2\sigma^2_{uv}} \right),
\label{gabor-frek}
\end{equation}
\begin{equation}
\sigma_{uv} = \frac{1}{2\pi \sigma_{xy}}.
\end{equation}
Osobina Gaborovog filtera definirana je radijalnom frekvencijom $r_0$,
orijentacijom i širinom filtera.

\section{Izvlačenje značajki pomoću gaborovog filtera}
Gaborove značajke se dobivaju konvolucijom klizečeg prozora slike i Gaborovog
filtera.

Neka je $I(x,y)$ slika. Konvolucija slike $I(x,y)$ i Gaborovog filtera data je
sa:
\begin{equation}
O(x,y,r_0, \theta_k) = I(x,y) * g(x,y,r_0, \theta_k),
\label{konvolucija-filter-slika}
\end{equation}
pri čemu je $k = 1, 2, 3, 4$. $O(x,y,r_0, \theta_k)$ nazivamo Gaborov prikaz
slike $I(x,y)$.\TODO{Treba nastaviti\ldots}

\subsection{Preprocesiranje uzoraka}
\TODO{Izvuči iz \citep{bhuiyan2007onfacerecognition}}


\section{Primjer primjene}
Izvuči iz http://matlabserver.cs.rug.nl/edgedetectionweb/web/edgedetection\_examples.html

\section{Utjecaj pojedinih parametara}
Gaborov filter definiraju valna duljina ($\lambda$),
orijentacija ($\theta$), fazni pomak ($\varphi$), omjer dimenzija \engl{aspect ratio}
($\gamma $) i širina filtera \engl{bandwidth} ($b$) \citep{petkovgabor}.
Promjena parametara jest stvaranje novog filtera.\TODO{Ovo provjeriti da nisam pokupio
nešto karakteristično isključivo za onaj program iz onog HTML--a čiji je link
naveden dolje u literaturi}

\subsection{Valna duljina ($\lambda$)}
Valna duljina se odnosi na valnu duljinu kosinusa u Gaborovoj funkciji.
Vrijednost je realan broj veći ili jednak $2$. Jedinica su pixeli.

Uz $\lambda = 2$, ne bi se smjela koristiti kombinacija $\varphi = \pm 90$ jer u
tom slučaju Gaborova funkcija je uzrokovana u svojim
nul--prijelazima\TODO{``sampled in its zero crossings''?}.
Da bi se spriječila pojava neželjenih efekata na rubovima slike, vrijednost valne
duljine mora biti manja od $\frac{1}{5}$ veličine ulazne slike.\TODO{Dodati
slike!}

\subsection{Orijentacija ($\theta$)}
Orijentacija određuje kut između normale i paralelnih pruga Gaborovog
filtera.\TODO{Što je normala, a što su te pruge\ldots nisam uspio skužiti\ldots}
Određena je kutom od $0$ do $360$ stupnjeva.\TODO{Dodati slike kao primjere
različitih orijentacija}

\subsection{Fazni pomak ($\varphi$)}
Ovaj parametar određuje fazni pomak funkcije kosinus unutar Gaborove funkcije.
Ispravne vrijednosti su realni brojevi između $-180$ i $180$ stupnjeva.

Vrijednosti $0$ i $180$ odgovaraju središnje--simetričnim funkcijama, a $-90$ i
$90$ anti--simetričnim funkcijama. Svi ostali slučajevi odgovaraju asimetričnim
funkcijama.\TODO{Slikeee}

\subsection{Omjer dimenzija ($\gamma $)}
Parametar, koji se preciznije naziva prostorni omjer dimenzija, koji određuje
eliptičnost Gaborove funkcije. Za $\gamma = 1$, eliptičnost se svodi na krug.
Za $\gamma < 1$ funkcija je izdužena u smjeru paralelnom s paralelnim prugama
funkcije\TODO{Opet te paralelne pruge!}.\TODO{Opet\ldots slikeee\ldots}

\subsection{Širina filtera ($b$)}
Prostorna širina filtera $b$ (u oktavama) Gaborovog filtera je povezana sa
omjerom $\frac{\sigma}{\lambda}$, pri čemu su $\sigma$ i $\lambda$ standardna
devijacija Gaussovog umnoška Gaborove funkcije i valna duljina. Definirana je
sa:
\begin{eqnarray}
b = \log_2{\left (  \frac{\frac{\sigma}{\lambda}\pi + \sqrt{\frac{\ln2}{2}}}
{\frac{\sigma}{\lambda}\pi - \sqrt{\frac{\ln2}{2}}} \right )}, \\
\frac{\sigma}{\lambda} =
\frac{1}{\pi}\sqrt{\frac{ln2}{2}}\cdot\frac{2^b+1}{2^b-1}.
\end{eqnarray}
Vrijednost $\sigma$ se ne može direktno odrediti. Ona se može mijenjati samo
preko vrijednosti širine filtera, $b$.

Širina filtera se određuje kao realni pozitivni broj. Što je širina manja,
$\sigma$ veća, \emph{the support of the Gabor function and the number of
visible parallel excitatory and inhibitory stripe zones.}\TODO{WTF!? Ovo ne
mogu prevesti\ldots iz slika i pojma širine bi se dalo zaključiti, no nisam
siguran što te pruge i zone predstavljaju}

\section{Klasifikacija}

\section{Zaključak}

\bibliography{literatura}
\bibliographystyle{plainnat}

\newpage
\appendix
\section{\LaTeX~playground}
Ovdje se možete igrati sa \LaTeX--om. Ideja je da igranjem u ovome dijelu
naučite nešto korisno oko \LaTeX--a tako da vam oni koji znaju \LaTeX~tu ostave
koji koristan primjer uporabe. Uglavnom, uvijek se igrajte s \LaTeX--om, jer igranje bez \LaTeX--a nije sigurno igranje. 

\subsection{O novim redovima}
Dokument dijelimo na paragrafe. Tekst unutar paragrafa se ne razlama. Ilitiga,
ako napišete:
\begin{verbatim}
Želim ovo u prvom,
ovo u drugom,
a ovo u trećem, i da je blizu udaljena od       daleko.
\end{verbatim}
Dobiti će te:
\emph{Želim ovo u prvom,
ovo u drugom,
a ovo u trećem, i da je blizu udaljena od       daleko.}

Ako želite novi red unutar paragrafa, morat će te dodati
\verb|\\| na kraj red ili komandu \verb|\newline|. I to je ružno\ldots

Ako želite preći u novi paragraf dovoljno je ostaviti jedan prazan red između
prošlog i novog paragrafa, tj.:
\begin{verbatim}
Prvi paragraf.

Drugi paragraf.
\end{verbatim}

\subsection{Korištenje TODO i FUJ naredbi}
Za potrebe ovog rada, dodane su \verb|\TODO{}| i \verb|\FUJ{}| naredbe. Služe
da bi popljuvali\FUJ{Kako ružna riječ}nečije djelo ili napisali što još treba
napraviti\TODO{Navedi primjer korištenja! :D}.

U argumente ovih naredbi, tj. sadržaj \textsf{TODO}--a možete ugurati sam kod.
Npr.~recimo.\TODO{\LaTeX, ovo je \emph{naglašeno}; ili
malo matematike $\iint_a^b{x^2dx}$} No, ovdje neće proći stvari kao više
linijski programski kod i sl.

\subsection{O pisanju matematičkih izraza}
Ako želite naučiti koristiti \LaTeX~za ono što ovaj podnaslov spominje, trebati
će vam neki tutorial ili knjiga (a ima ih masu\ldots i to besplatnih!).
Ja ću samo navesti par osnova.

Primjer izraza koji se nalazi u posebnom bloku, i još je centriran:
$$x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2a}$$
Napisao sam: \verb|$$x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2a}$$|

Ovo je jedan način zapisa. Mogli smo koristiti:
\begin{equation}
x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2a}
\label{rjesenje-kvadratne-jed}
\end{equation}
Napisao sam:
\begin{verbatim}
\begin{equation}
x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2a}
\label{rjesenje-kvadratne-jed}
\end{equation}
\end{verbatim}

Na ovaj drugi način izrazi se numeriraju i možemo se lako referencirati na
njih, npr.~(\ref{rjesenje-kvadratne-jed}). Referenciramo se ne bilo koji
\verb|\label{}| pomoću naredbe \verb|\ref{}|,
npr.~\verb|\ref{rjesenje-kvadratne-jed}|.

Evo neka stranica sa par zanimljivih primjera koje najvjerojatnije nikad nećete
imati priliku primjeniti, \url{http://www.personal.ceu.hu/tex/cookbook.html} te
još malo filozofije o svemu tome
\url{http://www.math.uiuc.edu/~hildebr/tex/displays.html}.

Btw.~ako gledate source, možda se pitate zašto uvijek stavljam ``\textasciitilde{}''
nakon točke. Radi se o tome da \LaTeX~nakon svake točke stavi malo više
razmaka, jer misli da se radi o početku nove rečenice. Ako mu stavimo tildu,
onda taj razmak bude onakav kakav bi trebao biti.

\subsection{O literaturi}
Literaturu izvlačite sa citeseerxa ili google schoolara jer vam oni odmah daju
i bibtex članka koji samo kopirate u file \emph{literatura.bib}.

Primjer citiranja: \verb|\citep{Yang04facerecognition}|.

\end{document}
